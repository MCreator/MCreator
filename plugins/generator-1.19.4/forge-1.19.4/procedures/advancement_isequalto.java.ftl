(world instanceof Level _lvl${customBlockIndex} && _lvl${customBlockIndex}.getServer() != null && _lvl${customBlockIndex}.getServer().getAdvancements()
    .getAdvancement(new ResourceLocation("${generator.map(field$achievement, "achievements")}" )).equals(advancement))